<template>
    <lightning-card title="New trade">
        <div class="slds-var-p-around_x-large" if:true={loading}>
            <lightning-spinner alternative-text="Loading" size="large" variant="brand"></lightning-spinner>
        </div>
        <lightning-record-edit-form
            object-api-name={tradeObject}
            class="slds-var-p-horizontal_small"
            onsuccess={handleSuccess}
            onsubmit={handleSubmit}
            onerror={handleError}>
            <div class="newTradeContainer">
                <div class="newTradeRow">
                    <lightning-input-field field-name={buyCurrencyField} onchange={buyCurrencyChangeHandle}> </lightning-input-field>
                    <lightning-input-field field-name={buyAmountField} onchange={buyAmountChangeHandle}> </lightning-input-field>
                    <lightning-button variant="brand" type="submit" label="Create" class="newTradeCreateButton"></lightning-button>
                </div>
                
                <div class="newTradeRateRow">
                    <lightning-icon icon-name="utility:right"> </lightning-icon>
                    <lightning-input-field field-name={rateField} disabled value={rate}> </lightning-input-field>
                    <lightning-icon icon-name="utility:right"> </lightning-icon>
                </div>
                <div class="newTradeRow">
                    <lightning-input-field field-name={sellCurrencyField} onchange={sellCurrencyChangeHandle}> </lightning-input-field>
                    <lightning-input-field field-name={sellAmountField} disabled value={sellAmount}> </lightning-input-field>
                    <lightning-button variant="destructive" label="Cancel" class="newTradeCancelButton" onclick={handleCancel}></lightning-button>
                </div>
            </div>
            <lightning-input-field field-name={dateBookedField} disabled value={ratedDate} class="slds-hide"></lightning-input-field>
        </lightning-record-edit-form>
    </lightning-card>
    
</template>